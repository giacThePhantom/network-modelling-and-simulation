\begin{algorithm}[H]
\DontPrintSemicolon
\SetKwComment{comment}{$\%$}{}
\SetKw{Int}{int}
\SetKw{To}{to}
\SetKw{Return}{return}
\SetKw{Not}{not}
\SetKw{Input}{Input}
\SetKw{Output}{Output}
\SetKw{False}{false}
\SetKw{True}{true}
\SetKwData{Item}{item}
\SetKwFunction{Min}{min}
\SetKwFunction{Partitioning}{partitioning}
\SetKwFunction{TitleFunction}{Trust region}

\caption{\protect\TitleFunction{}}
\label{algo:trust-region}

\Input: the function $f$ to be minimized and $x_k$ starting point, $\hat{\delta}$ the maximum accepted region, the starting $\delta\in ]0, \hat{\delta}[$ and $\eta\in\left[0, \frac{1}{4}\right]$ the minimum actual reduction for which the direction is accepted.\;

\Output: the minimized function\;

\Repeat{$||\nabla f(x_k)||<\epsilon$}{
	obtain $p_k$ such that $p_k=\arg\min\limits_{\substack{p\in\mathbb{R}^n\\||p||\le\delta_k}}m(x_k+p)$\;
	compute $\rho_k$\;
	\If{$\rho_k<\frac{1}{4}$}{
		$\delta_{k+1} = \frac{1}{4}\delta_k$\;
	}
	\ElseIf{$\rho_k > \frac{3}{4}\land||p_k||=\delta_k$}{
		$\delta_{k+1} = \min(2\delta_k, \hat{\delta})$\;
	}
	\Else{
		$\delta_{k+1} = \delta_k$\;
	}
	\If{$\rho_k >\eta$}{
		$x_{k+1} = x_k +p_k$\;
	}
	\Else{
		$x_{k+1} = x_k$\;
	}
}

\end{algorithm}
